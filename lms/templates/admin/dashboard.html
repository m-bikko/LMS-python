{% extends 'base.html' %}

{% block title %}Admin Dashboard - LMS{% endblock %}

{% block content %}
<div class="breadcrumb">
    <div class="breadcrumb-item active"><i class="fas fa-tachometer-alt mr-1"></i> Dashboard</div>
</div>

<h1 class="mb-4">Admin Dashboard</h1>

<div class="dashboard-stats">
    <div class="stat-card">
        <i class="fas fa-user-graduate mb-2" style="font-size: 2rem; color: var(--primary);"></i>
        <div class="stat-label">Students</div>
        <div class="stat-value">{{ stats.students }}</div>
    </div>
    
    <div class="stat-card">
        <i class="fas fa-chalkboard-teacher mb-2" style="font-size: 2rem; color: var(--primary);"></i>
        <div class="stat-label">Teachers</div>
        <div class="stat-value">{{ stats.teachers }}</div>
    </div>
    
    <div class="stat-card">
        <i class="fas fa-book mb-2" style="font-size: 2rem; color: var(--primary);"></i>
        <div class="stat-label">Courses</div>
        <div class="stat-value">{{ stats.courses }}</div>
    </div>
    
    <div class="stat-card">
        <i class="fas fa-user-plus mb-2" style="font-size: 2rem; color: var(--primary);"></i>
        <div class="stat-label">Enrollments</div>
        <div class="stat-value">{{ stats.enrollments }}</div>
    </div>
    
    <div class="stat-card {% if stats.pending_payments > 0 %}bg-warning text-dark{% endif %}">
        <i class="fas fa-money-check-alt mb-2" style="font-size: 2rem; color: {% if stats.pending_payments > 0 %}#856404{% else %}var(--primary){% endif %};"></i>
        <div class="stat-label">Pending Payments</div>
        <div class="stat-value">{{ stats.pending_payments }}</div>
        {% if stats.pending_payments > 0 %}
        <div class="stat-details">
            <small>{{ stats.pending_teacher_payments }} teacher(s), {{ stats.pending_student_payments }} student(s)</small>
        </div>
        {% endif %}
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h3><i class="fas fa-bolt mr-2"></i>Quick Actions</h3>
    </div>
    <div class="card-body">
        <div class="d-flex flex-wrap gap-2">
            <a href="{{ url_for('admin.create_teacher') }}" class="btn btn-primary mb-2 mr-2">
                <i class="fas fa-user-plus mr-1"></i> Create Teacher Account
            </a>
            <a href="{{ url_for('admin.manage_users') }}" class="btn btn-secondary mb-2 mr-2">
                <i class="fas fa-users mr-1"></i> Manage Users
            </a>
            <a href="{{ url_for('admin.manage_courses') }}" class="btn btn-secondary mb-2 mr-2">
                <i class="fas fa-book mr-1"></i> Manage Courses
            </a>
            <a href="{{ url_for('admin.manage_payments') }}" class="btn btn-success mb-2">
                <i class="fas fa-money-check-alt mr-1"></i> Verify Payments
            </a>
        </div>
    </div>
</div>
{% endblock %}